import{d as k,u as M,a as T,r as S,c as H,b as U,o as N,e as C,f as n,g as p,h as q,i as l,j as g,w as o,k as v,l as t,m as d,n as z,_ as L,F as D,p as F,q as I,t as B,s as j,U as P,v as Q,x as Y}from"./app-730abe2c.js";const E={class:"text-right w-100"},G={class:"mb-3"},O=k({__name:"BaseSelectPosition",setup(x){const u=M(),e=T(),i=S(!1),c=H(()=>{var _,s;return(_=e.city)!=null&&_.name?(s=e.city)==null?void 0:s.name:"Qayerdasiz?"}),a=U({notification:!0,overlay:!1,loading:!0,regions:[],districts:[],clearButtonLoading:!1}),f=U({city_id:null,token:u.token});async function r(){a.overlay=!0,f.city_id=null;const{data:_}=await C.get("region");a.regions=_;const{data:s}=await C.get("district");if(a.districts=s,e.city==null)return a.overlay=!1;f.city_id=e.city.id,a.overlay=!1}async function y(){a.clearButtonLoading=!0,await C.post("firebase/set-city-topic",{city_id:null,token:u.token}),e.city=null,a.clearButtonLoading=!1,i.value=!1}async function b(){const{data:_}=await C.post("firebase/set-city-topic",f);e.city=_}return N(async()=>{C.post("firebase/get-city-topic",{token:u.token}).then(({data:_})=>{e.city=_||null,a.loading=!1}).catch(()=>{console.clear(),a.notification=!1,a.loading=!1})}),(_,s)=>{const h=n("v-btn"),w=n("v-icon"),$=n("BaseForm"),V=n("v-bottom-sheet");return p(),q(D,null,[l("div",E,[a.notification?(p(),g(h,{key:0,variant:"tonal",onClick:s[0]||(s[0]=m=>i.value=!0),text:c.value,"append-icon":"mdi-map-marker",loading:a.loading,block:""},null,8,["text","loading"])):(p(),g(h,{key:1,disabled:"",color:"white",block:""},{default:o(()=>[v("Habarnoma o'chirilgan")]),_:1}))]),t(V,{modelValue:i.value,"onUpdate:modelValue":s[3]||(s[3]=m=>i.value=m),inset:""},{default:o(()=>[t($,{loading:a.overlay,submit:b,title:"Manzilni o'zgartirish",onClose:s[2]||(s[2]=m=>i.value=!1),onVnodeMounted:r},{action:o(()=>[d(e).city?(p(),g(h,{key:0,color:"primary",loading:a.clearButtonLoading,"append-icon":"mdi-close",variant:"text",onClick:y},{default:o(()=>[v(" O'chirish ")]),_:1},8,["loading"])):z("",!0)]),default:o(()=>[l("p",G,[t(w,{color:"primary"},{default:o(()=>[v("mdi-bell-outline")]),_:1}),v(" Quyida ko'rsatgan manzilingizga qarab yo'lovchilar haqida sizga habarnoma junatamiz. ")]),t(L,{categories:a.regions,subCategories:a.districts,loading:a.loading,modelValue:f.city_id,"onUpdate:modelValue":s[1]||(s[1]=m=>f.city_id=m),startText:"Tanlang?",class:"mb-1"},null,8,["categories","subCategories","loading","modelValue"])]),_:1},8,["loading"])]),_:1},8,["modelValue"])],64)}}}),R={class:"d-flex align-center py-4 px-2 bg-grey-lighten-4"},J={class:"font-weight-bold text-h6 leading-none mt-2"},K={class:"text-caption text-blue-grey-lighten-1"},W={class:"pa-2"},X={class:"pa-2"},Z={class:"mb-2 text-right"},tt=l("a",{href:"tel:+99893 660 09 60",class:"d-block text-decoration-none text-caption text-primary"},"+99893 660 09 60",-1),et=l("a",{href:"tel:+99893 660 09 60",class:"d-block text-decoration-none text-caption text-primary"},"+99894 677 11 34",-1),ot=k({__name:"TheLeftNavigator",setup(x){const{name:u}=F(),e=T(),i=M(),c=I("deferredPrompt");function a(){const r=T();r.dialog.open(()=>{r.dialog.title="Dasturdan chiqmoqchimisiz ?",r.dialog.submit=()=>i.logout()})}function f(){c&&(c.value.prompt(),c.value.userChoice.then(r=>{r.outcome==="accepted"?console.log("user accepted A2HS prompt"):console.log("user dismissed A2HS prompt"),c.value=null}))}return(r,y)=>{const b=n("v-icon"),_=n("v-divider"),s=n("v-btn"),h=n("v-list-item"),w=n("v-list"),$=n("v-label"),V=n("v-navigation-drawer");return p(),g(V,{temporary:d(u)=="sm",modelValue:d(e).menu,"onUpdate:modelValue":y[0]||(y[0]=m=>d(e).menu=m)},{append:o(()=>[l("div",X,[l("div",Z,[t($,{class:"text-caption mr-1"},{default:o(()=>[v(" Savol va takliflar uchun ")]),_:1}),tt,et]),t(s,{onClick:a,block:"","append-icon":"mdi-logout"},{default:o(()=>[v(" Chiqish ")]),_:1})])]),default:o(()=>{var m,A;return[l("main",R,[t(b,{color:"primary",size:"40"},{default:o(()=>[v("mdi-vuetify")]),_:1}),l("aside",null,[l("div",J,B((m=d(i).user)==null?void 0:m.name),1),l("div",K,B((A=d(i).user)==null?void 0:A.phone),1)])]),t(_),l("div",null,[l("div",W,[d(c)?(p(),g(s,{key:0,onClick:f,block:"","append-icon":"mdi-download",variant:"tonal",class:"mb-2"},{default:o(()=>[v(" Ilovani o'rnatish ")]),_:1})):z("",!0),d(c)?(p(),g(_,{key:1,class:"mb-2"})):z("",!0),t(O),t(w,{density:"compact"},{default:o(()=>[t(h,{title:"Transportlarim","prepend-icon":"mdi-car-settings",to:{name:"user-transports"},class:"mb-2"})]),_:1})])])]}),_:1},8,["temporary","modelValue"])}}}),nt=k({__name:"TheAppBar",setup(x){const u=T(),e=S([]),i=S(null);async function c(){e.value=await P.activeNotifications()}return N(async()=>{c(),i.value=setInterval(()=>{c()},3e4)}),j(()=>{clearInterval(i.value)}),(a,f)=>{const r=n("v-app-bar-nav-icon"),y=n("v-btn"),b=n("v-app-bar");return p(),g(b,{density:"comfortable",elevation:0,border:1,color:"primary"},{prepend:o(()=>[t(r,{color:"white",onClick:f[0]||(f[0]=_=>d(u).menu=!d(u).menu)})]),append:o(()=>[e.value.length?(p(),g(y,{key:0,color:"white",icon:"mdi-bell-badge",to:{name:"notifications"}})):(p(),g(y,{key:1,color:"white",icon:"mdi-bell",to:{name:"notifications"}}))]),_:1})}}}),at=k({__name:"TheHeader",setup(x){return(u,e)=>(p(),q("header",null,[t(ot),t(nt)]))}}),it={},st=l("span",{style:{width:"88px"},class:"tw-leading-none"},"Mening elonlarim",-1),lt=l("span",{style:{width:"88px"},class:"tw-leading-none"},"Haydovchilar",-1),ct=l("span",{style:{width:"88px"},class:"tw-leading-none"},"Yo'lovchilar",-1);function rt(x,u){const e=n("v-icon"),i=n("v-btn"),c=n("v-bottom-navigation");return p(),g(c,{color:"primary",class:"text-center"},{default:o(()=>[t(i,{to:{name:"auth-user"}},{default:o(()=>[t(e,null,{default:o(()=>[v("mdi-account")]),_:1}),st]),_:1}),t(i,{to:{name:"car-rides"}},{default:o(()=>[t(e,null,{default:o(()=>[v("mdi-taxi")]),_:1}),lt]),_:1}),t(i,{to:{name:"passengers"}},{default:o(()=>[t(e,null,{default:o(()=>[v("mdi-human-greeting")]),_:1}),ct]),_:1})]),_:1})}const dt=Q(it,[["render",rt]]),_t={class:"px-5 py-3 text-center elevation-1 position-relative"},ut={class:"mb-1"},mt={class:"text-pink"},pt=k({__name:"TheAlert",setup(x){const u=S(null),e=T();function i(){e.dialog.cancel()}function c(){e.dialog.submitInner()}function a(){setTimeout(()=>u.value.$el.focus())}return(f,r)=>{const y=n("v-icon"),b=n("v-card-text"),_=n("v-spacer"),s=n("v-btn"),h=n("v-card-actions"),w=n("v-card"),$=n("v-form"),V=n("v-dialog");return p(),g(V,{width:"400",modelValue:d(e).dialog.model,"onUpdate:modelValue":r[2]||(r[2]=m=>d(e).dialog.model=m)},{default:o(()=>[t($,{onSubmit:r[1]||(r[1]=Y(m=>i(),["prevent"])),onVnodeMounted:a,onVnodeUnmounted:d(e).dialog.reset},{default:o(()=>[t(w,null,{default:o(()=>[l("main",_t,[l("div",ut,[t(y,{color:"primary",size:"40"},{default:o(()=>[v(B(d(e).dialog.icon),1)]),_:1})]),l("span",mt,B(d(e).dialog.title),1)]),t(b,{class:"bg-grey-lighten-4"},{default:o(()=>[v(B(d(e).dialog.subTitle),1)]),_:1}),t(h,{class:"bg-grey-lighten-4"},{default:o(()=>[t(_),t(s,{text:"Yoq",ref_key:"btnCalcel",ref:u,color:"primary",variant:"tonal",type:"submit",class:"",onClick:r[0]||(r[0]=m=>d(e).dialog.model=!1)},null,512),t(s,{text:"Ha",type:"button",color:"gray",variant:"tonal",onClick:c})]),_:1})]),_:1})]),_:1},8,["onVnodeUnmounted"])]),_:1},8,["modelValue"])}}}),gt=k({__name:"General",setup(x){return(u,e)=>{const i=n("router-view"),c=n("v-main"),a=n("v-app");return p(),g(a,{class:"bg-grey-lighten-4"},{default:o(()=>[t(pt),t(c,null,{default:o(()=>[t(at),t(i,{class:"h-100 position-relative"})]),_:1}),t(dt)]),_:1})}}});export{gt as default};
