import"./CarRide-06485fab.js";import{d as g,r as n,o as m,j as _,e as r,f as a,w as s,g as d,t as u,i as v,h as w,m as x,k as N,p as k}from"./app-1c89fd55.js";import{_ as R}from"./IconRenderer.vue_vue_type_script_setup_true_lang-434d1039.js";import{_ as $,a as D}from"./Edit.vue_vue_type_script_setup_true_lang-3d1ad870.js";import"./constants-68fdd4d6.js";const A={class:"tw-leading-3 d-flex align-center"},V={class:""},B={key:0,class:"ml-4"},C=g({__name:"CityRenderer",props:["params"],setup(t){return(p,o)=>{const l=n("v-label"),i=n("v-tooltip"),c=n("v-icon"),e=n("v-btn");return m(),_("div",A,[r("main",null,[a(l,{class:"text-caption"},{default:s(()=>[d(u(t.params.value.region.name),1)]),_:1}),r("p",V,u(t.params.value.name),1)]),t.params.data.address_to_address&&t.params.end?(m(),_("main",B,[a(e,{density:"compact",variant:"text",icon:""},{default:s(()=>[a(i,{activator:"parent",location:"bottom"},{default:s(()=>[d(" Manzilgacha ")]),_:1}),a(c,null,{default:s(()=>[d("mdi-map-marker")]),_:1})]),_:1})])):v("",!0)])}}}),M={key:0,class:"tw-leading-none d-flex align-center"},S={class:"mt-1"},j={key:0,class:"ml-4"},F=g({__name:"TimeRenderer",props:["params"],setup(t){return(p,o)=>{const l=n("v-tooltip"),i=n("v-icon"),c=n("v-btn");return t.params.value?(m(),_("div",M,[r("main",null,[r("p",null,u(w(x)(t.params.value).format("MMMM DD")),1),r("p",S,u(w(x)(t.params.value).format("HH:mm")),1)]),t.params.data.strictly_on_time?(m(),_("main",j,[a(c,{density:"compact",variant:"text",icon:""},{default:s(()=>[a(l,{activator:"parent",location:"bottom"},{default:s(()=>[d(" Qat'iy shu vaqtda ")]),_:1}),a(i,null,{default:s(()=>[d("mdi-book-clock")]),_:1})]),_:1})])):v("",!0)])):v("",!0)}}}),H={class:"d-flex tw-flex-col"},I={class:"d-flex align-center justify-space-between mb-2 px-1"},Q=g({__name:"Passengers",setup(t){const p=N(),o=k({passengers:null,gridApi:null,rowClass:["tw-max-h-14","bg-white","tw-shadow"]}),l=[{field:"start",headerName:"Shahar | A ",cellRenderer:C,valueFormatter:null},{field:"end",headerName:"Shahar | B",cellRenderer:C,valueFormatter:null,cellRendererParams:{end:!0}},{field:"ride_time",headerName:"Qatnov vaqti",cellRenderer:F,valueFormatter:null,width:150},{field:"name",headerName:"F.I.SH",flex:1,minWidth:150},{field:"phone",headerName:"Raqami",width:150},{field:"with_trunk",headerName:"Bagaj bilan",width:150},{cellClass:["d-flex","justify-center","align-center","px-2","hover:tw-bg-gray-100"],headerName:"",width:60,cellRenderer:R,cellRendererParams:{icon:"mdi-pencil-outline"},headerClass:["px-2"],onCellClicked:({data:e})=>{p.value.toggle(e)}}];function i(e){o.gridApi.applyTransaction({add:[e],addIndex:0})}function c(e){o.gridApi.getRowNode(e.id).setData(e)}return axios.get("passenger").then(({data:e})=>o.passengers=e),(e,f)=>{const y=n("AgGridVue"),b=n("v-spacer");return m(),_("main",H,[a($,{onUpdate:c,ref_key:"editComponent",ref:p},null,512),r("main",I,[a(D,{onCreate:i})]),a(b,null,{default:s(()=>[a(y,{class:"ag-theme-ruzzifer ag-theme-alpine h-100",rowHeight:58,rowClass:o.rowClass,columnDefs:l,rowData:o.passengers,rowSelection:"multiple",onGridReady:f[0]||(f[0]=h=>o.gridApi=h.api),getRowId:({data:h})=>h.id},null,8,["rowClass","rowData","getRowId"])]),_:1})])}}});export{Q as default};
