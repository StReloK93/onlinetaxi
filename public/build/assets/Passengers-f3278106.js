import{d as g,r as t,o as l,j as f,b as m,e as n,w as r,f as u,t as h,h as v,c as C,g as _,m as y,k as R,a as A,p as $}from"./app-bfb27f04.js";import{_ as D,a as B}from"./Edit.vue_vue_type_script_setup_true_lang-e5ec21c2.js";import"./constants-68fdd4d6.js";const S={class:"tw-leading-3 d-flex align-center"},V={class:""},I={key:0,class:"ml-4"},b=g({__name:"CityRenderer",props:["params"],setup(e){return(o,i)=>{const a=t("v-label"),c=t("v-tooltip"),d=t("v-icon"),p=t("v-btn");return l(),f("div",S,[m("main",null,[n(a,{class:"text-caption"},{default:r(()=>[u(h(e.params.value.region.name),1)]),_:1}),m("p",V,h(e.params.value.name),1)]),e.params.data.address_to_address&&e.params.end?(l(),f("main",I,[n(p,{density:"compact",variant:"text",icon:""},{default:r(()=>[n(c,{activator:"parent",location:"bottom"},{default:r(()=>[u(" Manzilgacha ")]),_:1}),n(d,null,{default:r(()=>[u("mdi-map-marker")]),_:1})]),_:1})])):v("",!0)])}}}),M=g({__name:"IconRenderer",props:["params"],setup(e){const{params:o}=e,i=o.color==null?"primary":o.color,a=o.variant==null?"flat":o.variant;return(c,d)=>{const p=t("v-btn");return l(),C(p,{color:_(i),icon:e.params.icon,variant:_(a),size:"x-small"},null,8,["color","icon","variant"])}}}),j={key:0,class:"tw-leading-none d-flex align-center"},z={class:"mt-1"},F={key:0,class:"ml-4"},H=g({__name:"TimeRenderer",props:["params"],setup(e){return(o,i)=>{const a=t("v-tooltip"),c=t("v-icon"),d=t("v-btn");return e.params.value?(l(),f("div",j,[m("main",null,[m("p",null,h(_(y)(e.params.value).format("MMMM DD")),1),m("p",z,h(_(y)(e.params.value).format("HH:mm")),1)]),e.params.data.strictly_on_time?(l(),f("main",F,[n(d,{density:"compact",variant:"text",icon:""},{default:r(()=>[n(a,{activator:"parent",location:"bottom"},{default:r(()=>[u(" Qat'iy shu vaqtda ")]),_:1}),n(c,null,{default:r(()=>[u("mdi-book-clock")]),_:1})]),_:1})])):v("",!0)])):v("",!0)}}}),P={class:"d-flex tw-flex-col"},q={class:"d-flex align-center justify-space-between mb-2 px-1"},T=g({__name:"Passengers",setup(e){const o=R(),i=A(),a=$({passengers:null,gridApi:null,rowClass:["tw-max-h-14","bg-white","tw-shadow"]}),c=[{field:"start",headerName:"Shahar | A ",cellRenderer:b,valueFormatter:null},{field:"end",headerName:"Shahar | B",cellRenderer:b,valueFormatter:null,cellRendererParams:{end:!0}},{field:"ride_time",headerName:"Qatnov vaqti",cellRenderer:H,valueFormatter:null,width:150},{field:"name",headerName:"F.I.SH",flex:1,minWidth:150},{field:"phone",headerName:"Raqami",width:150},{field:"with_trunk",headerName:"Bagaj bilan",width:150},{cellClass:["d-flex","justify-center","align-center","px-2","hover:tw-bg-gray-100"],headerName:"",width:60,cellRenderer:M,cellRendererParams:{icon:"mdi-pencil-outline"},headerClass:["px-2"],onCellClicked:({data:s})=>{o.value.toggle(s)}}];function d(s){a.gridApi.applyTransaction({add:[s],addIndex:0})}function p(s){a.gridApi.getRowNode(s.id).setData(s)}return axios.get("passenger").then(({data:s})=>a.passengers=s),(s,w)=>{const k=t("AgGridVue"),N=t("v-spacer");return l(),f("main",P,[n(D,{onUpdate:p,ref_key:"editComponent",ref:o},null,512),m("main",q,[_(i).isAnyAdmins||_(i).isPassenger?(l(),C(B,{key:0,onCreate:d})):v("",!0)]),n(N,null,{default:r(()=>[n(k,{class:"ag-theme-ruzzifer ag-theme-alpine h-100",rowHeight:58,rowClass:a.rowClass,columnDefs:c,rowData:a.passengers,rowSelection:"multiple",onGridReady:w[0]||(w[0]=x=>a.gridApi=x.api),getRowId:({data:x})=>x.id},null,8,["rowClass","rowData","getRowId"])]),_:1})])}}});export{T as default};
