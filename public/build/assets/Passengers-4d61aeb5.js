import{d as g,r as t,o as l,j as p,e as d,f as n,w as s,g as u,t as h,i as v,c as C,h as f,m as b,k as R,b as $,p as A}from"./app-33261b3f.js";import{_ as D,a as B}from"./Edit.vue_vue_type_script_setup_true_lang-96f9f141.js";import"./constants-68fdd4d6.js";const S={class:"tw-leading-3 d-flex align-center"},V={class:""},I={key:0,class:"ml-4"},y=g({__name:"CityRenderer",props:["params"],setup(e){return(o,m)=>{const a=t("v-label"),i=t("v-tooltip"),c=t("v-icon"),_=t("v-btn");return l(),p("div",S,[d("main",null,[n(a,{class:"text-caption"},{default:s(()=>[u(h(e.params.value.region.name),1)]),_:1}),d("p",V,h(e.params.value.name),1)]),e.params.data.address_to_address&&e.params.end?(l(),p("main",I,[n(_,{density:"compact",variant:"text",icon:""},{default:s(()=>[n(i,{activator:"parent",location:"bottom"},{default:s(()=>[u(" Manzilgacha ")]),_:1}),n(c,null,{default:s(()=>[u("mdi-map-marker")]),_:1})]),_:1})])):v("",!0)])}}}),M=g({__name:"IconRenderer",props:["params"],setup(e){const{params:o}=e,m=o.color==null?"primary":o.color,a=o.variant==null?"flat":o.variant;return(i,c)=>{const _=t("v-btn");return l(),C(_,{color:f(m),icon:e.params.icon,variant:f(a),size:"x-small"},null,8,["color","icon","variant"])}}}),j={key:0,class:"tw-leading-none d-flex align-center"},z={class:"mt-1"},F={key:0,class:"ml-4"},H=g({__name:"TimeRenderer",props:["params"],setup(e){return(o,m)=>{const a=t("v-tooltip"),i=t("v-icon"),c=t("v-btn");return e.params.value?(l(),p("div",j,[d("main",null,[d("p",null,h(f(b)(e.params.value).format("MMMM DD")),1),d("p",z,h(f(b)(e.params.value).format("HH:mm")),1)]),e.params.data.strictly_on_time?(l(),p("main",F,[n(c,{density:"compact",variant:"text",icon:""},{default:s(()=>[n(a,{activator:"parent",location:"bottom"},{default:s(()=>[u(" Qat'iy shu vaqtda ")]),_:1}),n(i,null,{default:s(()=>[u("mdi-book-clock")]),_:1})]),_:1})])):v("",!0)])):v("",!0)}}}),q={class:"d-flex tw-flex-col"},G={class:"d-flex align-center justify-space-between mb-2 px-1"},T=g({__name:"Passengers",setup(e){const o=R(),m=$(),a=A({passengers:null,gridApi:null,rowClass:["tw-max-h-14","bg-white","tw-shadow"]}),i=[{field:"start",headerName:"Shahar | A ",cellRenderer:y,valueFormatter:null},{field:"end",headerName:"Shahar | B",cellRenderer:y,valueFormatter:null,cellRendererParams:{end:!0}},{field:"ride_time",headerName:"Qatnov vaqti",cellRenderer:H,valueFormatter:null,width:150},{field:"name",headerName:"F.I.SH",flex:1,minWidth:150},{field:"phone",headerName:"Raqami",width:150},{field:"with_trunk",headerName:"Bagaj bilan",width:150},{cellClass:["d-flex","justify-center","align-center","px-2","hover:tw-bg-gray-100"],headerName:"",width:60,cellRenderer:M,cellRendererParams:{icon:"mdi-pencil-outline"},headerClass:["px-2"],onCellClicked:({data:r})=>{o.value.toggle(r)}}];function c(r){a.gridApi.applyTransaction({add:[r],addIndex:0})}function _(r){a.gridApi.getRowNode(r.id).setData(r)}return axios.get("passenger").then(({data:r})=>a.passengers=r),(r,w)=>{const k=t("AgGridVue"),N=t("v-spacer");return l(),p("main",q,[n(D,{onUpdate:_,ref_key:"editComponent",ref:o},null,512),d("main",G,[[1,2,3].includes(f(m).user.role_id)?(l(),C(B,{key:0,onCreate:c})):v("",!0)]),n(N,null,{default:s(()=>[n(k,{class:"ag-theme-ruzzifer ag-theme-alpine h-100",rowHeight:58,rowClass:a.rowClass,columnDefs:i,rowData:a.passengers,rowSelection:"multiple",onGridReady:w[0]||(w[0]=x=>a.gridApi=x.api),getRowId:({data:x})=>x.id},null,8,["rowClass","rowData","getRowId"])]),_:1})])}}});export{T as default};
