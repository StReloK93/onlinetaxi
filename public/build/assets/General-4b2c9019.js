import{d as w,u as P,a as S,b as z,i as j,r as n,o as c,c as p,w as e,e as m,f as t,g,t as C,h as i,j as y,k as D,l as F,m as q,n as L,p as B,q as U,s as M,v as I}from"./app-63a810d3.js";const Q={class:"d-flex align-center py-4 px-2 bg-grey-lighten-3"},Y={class:"font-weight-bold text-h6 leading-none mt-2"},E={class:"text-caption text-blue-grey-lighten-1"},G={class:"pa-2"},J={class:"pa-2"},K=w({__name:"TheLeftNavigator",setup($){const{name:d}=P(),a=S(),v=z(),r=j("deferredPrompt");function o(){const u=S();u.dialog.open(()=>{u.dialog.title="Dasturdan chiqmoqchimisiz ?",u.dialog.submit=()=>v.logout()})}function _(){r&&(r.value.prompt(),r.value.userChoice.then(u=>{u.outcome==="accepted"?console.log("user accepted A2HS prompt"):console.log("user dismissed A2HS prompt"),r.value=null}))}return(u,x)=>{const h=n("v-icon"),l=n("v-divider"),s=n("v-list-item"),T=n("v-list"),V=n("v-btn"),A=n("v-navigation-drawer");return c(),p(A,{temporary:i(d)=="sm",modelValue:i(a).menu,"onUpdate:modelValue":x[0]||(x[0]=b=>i(a).menu=b)},{append:e(()=>[m("div",J,[t(V,{onClick:o,block:"","append-icon":"mdi-logout"},{default:e(()=>[g(" Chiqish ")]),_:1})])]),default:e(()=>{var b,k;return[m("main",Q,[t(h,{color:"primary",size:"40"},{default:e(()=>[g("mdi-vuetify")]),_:1}),m("aside",null,[m("div",Y,C((b=i(v).user)==null?void 0:b.name),1),m("div",E,C((k=i(v).user)==null?void 0:k.phone),1)])]),t(l),m("div",null,[i(v).isAnyAdmins?(c(),p(T,{key:0,density:"compact"},{default:e(()=>[t(s,{"prepend-icon":"mdi-car-settings",title:"Junatilgan transportlar",color:"primary",to:{name:"car-ride-inactive"}})]),_:1})):y("",!0),t(l),m("div",G,[i(r)?(c(),p(V,{key:0,onClick:_,block:"","append-icon":"mdi-download",variant:"tonal"},{default:e(()=>[g(" Ilovani o'rnatish ")]),_:1})):y("",!0)])])]}),_:1},8,["temporary","modelValue"])}}}),O={class:"d-flex align-center"},R=w({__name:"TheAppBar",setup($){const d=S(),a=z();return(v,r)=>{const o=n("v-app-bar-nav-icon"),_=n("v-icon"),u=n("v-app-bar-title"),x=n("v-app-bar");return c(),p(x,{density:"comfortable",elevation:0,border:1,color:"primary"},{prepend:e(()=>[t(o,{color:"white",onClick:r[0]||(r[0]=h=>i(d).menu=!i(d).menu)})]),default:e(()=>[t(u,null,{default:e(()=>{var h,l;return[m("div",O,[i(a).isDriver?(c(),p(_,{key:0},{default:e(()=>[g("mdi-chess-knight")]),_:1})):y("",!0),i(a).isPassenger?(c(),p(_,{key:1},{default:e(()=>[g("mdi-chess-pawn")]),_:1})):y("",!0),i(a).isAdmin?(c(),p(_,{key:2},{default:e(()=>[g("mdi-chess-rook")]),_:1})):y("",!0),i(a).isSuperAdmin?(c(),p(_,{key:3},{default:e(()=>[g("mdi-chess-king")]),_:1})):y("",!0),m("span",null,C((l=(h=i(a).user)==null?void 0:h.role)==null?void 0:l.name),1)])]}),_:1})]),_:1})}}}),W={class:"text-right w-100 px-2"},X={class:"text-caption"},Z=w({__name:"TheLittleAppBar",setup($){const d=z(),a=D(null),v=D(!1),r=F(()=>{var l,s;return(l=a.value)!=null&&l.name?(s=a.value)==null?void 0:s.name:"Tanlang"}),o=q({overlay:!1,loading:!0,city_loading:!1,regions:[],region_districts:[],region_id:null}),_=q({city_id:null,token:d.token});async function u(l){o.region_id=l,o.region_districts=[],o.city_loading=!0,_.city_id=null,await B.get(`district/${l}`).then(({data:s})=>{o.region_districts=s,o.city_loading=!1})}async function x(){o.overlay=!0,_.city_id=null,o.region_id=null;const{data:l}=await B.get("region");o.regions=l,u(a.value.region_id),_.city_id=a.value.id,o.overlay=!1}async function h(){const{data:l}=await B.post("firebase/set-city-topic",_);a.value=l}return L(async()=>{B.post("firebase/get-city-topic",{token:d.token}).then(({data:l})=>{a.value=l,o.loading=!1})}),(l,s)=>{const T=n("v-btn"),V=n("v-icon"),A=n("v-autocomplete"),b=n("v-col"),k=n("BaseForm"),N=n("v-bottom-sheet"),H=n("v-app-bar");return c(),p(H,{density:"compact",elevation:0,border:1},{default:e(()=>[m("div",W,[t(T,{onClick:s[0]||(s[0]=f=>v.value=!0),text:r.value,"append-icon":"mdi-map-marker",loading:o.loading},null,8,["text","loading"])]),t(N,{modelValue:v.value,"onUpdate:modelValue":s[5]||(s[5]=f=>v.value=f),inset:""},{default:e(()=>[t(k,{loading:o.overlay,submit:h,title:"Manzilni o'zgartirish",onClose:s[4]||(s[4]=f=>v.value=!1),onVnodeMounted:x},{default:e(()=>[m("p",X,[t(V,{color:"primary"},{default:e(()=>[g("mdi-bell-outline")]),_:1}),g(" Quyida ko'rsatgan manzilingizga qarab yo'lovchilar haqida sizga habarnoma junatamiz. ")]),t(b,{cols:"12",class:"px-0"},{default:e(()=>[t(A,{"onUpdate:modelValue":[s[1]||(s[1]=f=>u(f)),s[2]||(s[2]=f=>o.region_id=f)],items:o.regions,modelValue:o.region_id,label:"Viloyat","item-title":"name","item-value":f=>f.id,rules:i(U)},null,8,["items","modelValue","item-value","rules"])]),_:1}),t(b,{cols:"12",class:"px-0"},{default:e(()=>[t(A,{disabled:o.region_id==null,items:o.region_districts,modelValue:_.city_id,"onUpdate:modelValue":s[3]||(s[3]=f=>_.city_id=f),label:"Shahar (Tuman)","item-title":"name",loading:o.city_loading,"item-value":f=>f.id,rules:i(U)},null,8,["disabled","items","modelValue","loading","item-value","rules"])]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1})}}}),ee=w({__name:"TheHeader",setup($){return(d,a)=>(c(),M("header",null,[t(K),t(R),d.$route.meta.clear!=!0?(c(),p(Z,{key:0})):y("",!0)]))}}),te=m("span",{style:{width:"88px"},class:"tw-leading-none"},"Mening qatnovlarim",-1),ne=m("span",{style:{width:"88px"},class:"tw-leading-none"},"Qatnovlar",-1),oe=m("span",{style:{width:"88px"},class:"tw-leading-none"},"Yo'lovchilar",-1),ae={key:0,style:{width:"88px"},class:"tw-leading-none"},ie={key:1,style:{width:"88px"},class:"tw-leading-none"},se=w({__name:"TheBottomNavigation",setup($){const d=z();return(a,v)=>{const r=n("v-icon"),o=n("v-btn"),_=n("v-bottom-navigation");return c(),p(_,{color:"primary",class:"text-center"},{default:e(()=>[i(d).isDriver?(c(),p(o,{key:0,to:{name:"car-rides-auth-user"}},{default:e(()=>[t(r,null,{default:e(()=>[g("mdi-taxi")]),_:1}),te]),_:1})):y("",!0),t(o,{to:{name:"car-rides"}},{default:e(()=>[t(r,null,{default:e(()=>[g("mdi-timeline-clock-outline")]),_:1}),ne]),_:1}),i(d).isPassengerAdmins?(c(),p(o,{key:1,to:{name:"passengers"}},{default:e(()=>[t(r,null,{default:e(()=>[g("mdi-human-greeting")]),_:1}),oe]),_:1})):y("",!0),i(d).isDriverAdmins?(c(),p(o,{key:2,to:{name:"transports"}},{default:e(()=>[t(r,null,{default:e(()=>[g("mdi-train-car")]),_:1}),i(d).isDriverAdmins?(c(),M("span",ae," Transportlar ")):(c(),M("span",ie," Mening transportim "))]),_:1})):y("",!0)]),_:1})}}}),le={class:"px-5 py-3 text-center tw-shadow-sm tw-relative"},re={class:"mb-1"},ce={class:"text-pink"},de=w({__name:"TheAlert",setup($){const d=D(null),a=S();function v(){a.dialog.cancel()}function r(){a.dialog.submitInner()}function o(){setTimeout(()=>d.value.$el.focus())}return(_,u)=>{const x=n("v-icon"),h=n("v-card-text"),l=n("v-spacer"),s=n("v-btn"),T=n("v-card-actions"),V=n("v-card"),A=n("v-form"),b=n("v-dialog");return c(),p(b,{width:"400",modelValue:i(a).dialog.model,"onUpdate:modelValue":u[2]||(u[2]=k=>i(a).dialog.model=k)},{default:e(()=>[t(A,{onSubmit:u[1]||(u[1]=I(k=>v(),["prevent"])),onVnodeMounted:o,onVnodeUnmounted:i(a).dialog.reset},{default:e(()=>[t(V,null,{default:e(()=>[m("main",le,[m("div",re,[t(x,{color:"primary",size:"40"},{default:e(()=>[g(C(i(a).dialog.icon),1)]),_:1})]),m("span",ce,C(i(a).dialog.title),1)]),t(h,{class:"tw-bg-slate-50"},{default:e(()=>[g(C(i(a).dialog.subTitle),1)]),_:1}),t(T,{class:"tw-bg-slate-50"},{default:e(()=>[t(l),t(s,{text:"Yoq",ref_key:"btnCalcel",ref:d,color:"primary",variant:"tonal",type:"submit",class:"tw-bg-gray-50 focus:tw-outline-2 focus:tw-outline-red-300 focus:tw-outline",onClick:u[0]||(u[0]=k=>i(a).dialog.model=!1)},null,512),t(s,{text:"Ha",type:"button",color:"gray",variant:"tonal",onClick:r})]),_:1})]),_:1})]),_:1},8,["onVnodeUnmounted"])]),_:1},8,["modelValue"])}}}),ue=w({__name:"General",setup($){return(d,a)=>{const v=n("router-view"),r=n("v-container"),o=n("v-main"),_=n("v-app");return c(),p(_,{class:"bg-grey-lighten-4"},{default:e(()=>[t(de),t(o,null,{default:e(()=>[t(ee),t(r,{class:"h-100"},{default:e(()=>[t(v,{class:"h-100 position-relative mx-n2"})]),_:1})]),_:1}),t(se)]),_:1})}}});export{ue as default};
