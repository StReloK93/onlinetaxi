import{d as v,o as x,j as h,e as f,t as b,h as d,b as D,p as w,r as i,c as C,w as u,f as o,k,y as T}from"./app-f25a100e.js";import{r as g}from"./constants-68fdd4d6.js";const A={class:"pa-2 w-100"},U={class:"d-flex justify-space-between tw-text-2xl"},B={class:"tw-uppercase"},R={class:"text-primary"},$=v({__name:"TransportRenderer",props:["params"],setup(_){const a=_.params.data;return console.log(a),(t,n)=>(x(),h("section",A,[f("div",null,[f("aside",U,[f("h3",B,b(d(a).type),1),f("h3",R,b(d(a).number),1)])])]))}}),F=v({__name:"Inputs",setup(_,{expose:l}){const a=D(),t=w({user_id:a.user.id,type:null,number:null,color:null,fuel_type:null,trunk:!1}),n=w({fuel_types:[],users:[],start_loading:!1,end_loading:!1,start_districts:[],end_districts:[]});return axios.all([axios.get("fuel_type"),axios.get("users")]).then(axios.spread(({data:m},{data:e})=>{n.fuel_types=m,n.users=e})),l({formData:t}),(m,e)=>{const r=i("v-text-field"),p=i("v-col"),y=i("v-autocomplete"),V=i("v-switch"),c=i("v-row");return x(),C(c,null,{default:u(()=>[o(p,{sm:"6",cols:"12"},{default:u(()=>[o(r,{modelValue:t.type,"onUpdate:modelValue":e[0]||(e[0]=s=>t.type=s),step:900,label:"Transport turi",rules:d(g)},null,8,["modelValue","rules"])]),_:1}),o(p,{sm:"6",cols:"12"},{default:u(()=>[o(r,{modelValue:t.number,"onUpdate:modelValue":e[1]||(e[1]=s=>t.number=s),step:900,label:"Transport raqami",rules:d(g)},null,8,["modelValue","rules"])]),_:1}),o(p,{sm:"6",cols:"12"},{default:u(()=>[o(r,{modelValue:t.color,"onUpdate:modelValue":e[2]||(e[2]=s=>t.color=s),step:900,label:"Transport rangi",rules:d(g)},null,8,["modelValue","rules"])]),_:1}),o(p,{sm:"6",cols:"12"},{default:u(()=>[o(y,{items:n.fuel_types,modelValue:t.fuel_type,"onUpdate:modelValue":e[3]||(e[3]=s=>t.fuel_type=s),label:"Yoqilg'i turi","item-title":"name","item-value":s=>s.id,rules:d(g)},null,8,["items","modelValue","item-value","rules"])]),_:1}),o(p,{sm:"6",cols:"12"},{default:u(()=>[o(V,{modelValue:t.trunk,"onUpdate:modelValue":e[4]||(e[4]=s=>t.trunk=s),label:"Bagaj",class:"px-2"},null,8,["modelValue"])]),_:1})]),_:1})}}}),I=v({__name:"Add",emits:["create"],setup(_,{emit:l}){const a=l,t=k(),n=w({dialog:!1});async function m(){const e=t.value.formData;await axios.post("car",e).then(({data:r})=>{a("create",r)})}return(e,r)=>{const p=i("v-btn"),y=i("CustomForm"),V=i("v-dialog");return x(),C(V,{modelValue:n.dialog,"onUpdate:modelValue":r[1]||(r[1]=c=>n.dialog=c),scrollable:"",persistent:"",width:"600px"},{activator:u(({props:c})=>[o(p,T({color:"primary"},c,{icon:"mdi-plus",class:"add-button"}),null,16)]),default:u(()=>[o(y,{submit:m,title:"Transport kiritish",onClose:r[0]||(r[0]=c=>n.dialog=!1)},{default:u(()=>[o(F,{ref_key:"inputComponent",ref:t},null,512)]),_:1})]),_:1},8,["modelValue"])}}}),j=[{cellRenderer:$,flex:1,valueFormatter:null,cellClass:["px-0","align-stretch"]}],G={class:"d-flex tw-flex-col"},N=v({__name:"Transports",setup(_){const l=w({cars:null,gridApi:null,rowClass:["car-ride-height","tw-shadow","tw-border-l-2","tw-border-pink-500","bg-white","tw-rounded-r","overflow-hidden"]});return axios.get("cars/get_only_my").then(({data:a})=>l.cars=a),(a,t)=>{const n=i("AgGridVue"),m=i("v-spacer");return x(),h("main",G,[o(d(I),{onCreate:t[0]||(t[0]=e=>l.gridApi.applyTransaction({add:[e],addIndex:0}))}),o(m,null,{default:u(()=>[o(n,{class:"ag-theme-ruzzifer ag-theme-alpine h-100",rowHeight:170,rowClass:l.rowClass,columnDefs:d(j),rowData:l.cars,onGridReady:t[1]||(t[1]=e=>l.gridApi=e.api),getRowId:({data:e})=>e.id},null,8,["rowClass","columnDefs","rowData","getRowId"])]),_:1})])}}});export{N as default};
