import{d as x,u as M,a as T,r as q,c as L,b as A,o as N,e as C,f as n,g as v,h as H,i as l,j as g,w as e,k as p,l as t,m as c,n as S,_ as U,F as D,p as F,q as j,t as B,s as P,v as I}from"./app-2f413335.js";const Q={class:"text-right w-100"},Y={class:"mb-3"},E=x({__name:"BaseSelectPosition",setup(b){const _=M(),o=T(),i=q(!1),r=L(()=>{var u,s;return(u=o.city)!=null&&u.name?(s=o.city)==null?void 0:s.name:"Qayerdasiz?"}),a=A({notification:!0,overlay:!1,loading:!0,regions:[],districts:[],clearButtonLoading:!1}),f=A({city_id:null,token:_.token});async function d(){a.overlay=!0,f.city_id=null;const{data:u}=await C.get("region");a.regions=u;const{data:s}=await C.get("district");if(a.districts=s,o.city==null)return a.overlay=!1;f.city_id=o.city.id,a.overlay=!1}async function h(){a.clearButtonLoading=!0,await C.post("firebase/set-city-topic",{city_id:null,token:_.token}),o.city=null,a.clearButtonLoading=!1,i.value=!1}async function k(){const{data:u}=await C.post("firebase/set-city-topic",f);o.city=u}return N(async()=>{C.post("firebase/get-city-topic",{token:_.token}).then(({data:u})=>{o.city=u,a.loading=!1}).catch(()=>{console.clear(),a.notification=!1,a.loading=!1})}),(u,s)=>{const y=n("v-btn"),w=n("v-icon"),$=n("BaseForm"),V=n("v-bottom-sheet");return v(),H(D,null,[l("div",Q,[a.notification?(v(),g(y,{key:0,variant:"tonal",onClick:s[0]||(s[0]=m=>i.value=!0),text:r.value,"append-icon":"mdi-map-marker",loading:a.loading,block:""},null,8,["text","loading"])):(v(),g(y,{key:1,disabled:"",color:"white",block:""},{default:e(()=>[p("Habarnoma o'chirilgan")]),_:1}))]),t(V,{modelValue:i.value,"onUpdate:modelValue":s[3]||(s[3]=m=>i.value=m),inset:""},{default:e(()=>[t($,{loading:a.overlay,submit:k,title:"Manzilni o'zgartirish",onClose:s[2]||(s[2]=m=>i.value=!1),onVnodeMounted:d},{action:e(()=>[c(o).city?(v(),g(y,{key:0,color:"primary",loading:a.clearButtonLoading,"append-icon":"mdi-close",variant:"text",onClick:h},{default:e(()=>[p(" O'chirish ")]),_:1},8,["loading"])):S("",!0)]),default:e(()=>[l("p",Y,[t(w,{color:"primary"},{default:e(()=>[p("mdi-bell-outline")]),_:1}),p(" Quyida ko'rsatgan manzilingizga qarab yo'lovchilar haqida sizga habarnoma junatamiz. ")]),t(U,{categories:a.regions,subCategories:a.districts,loading:a.loading,modelValue:f.city_id,"onUpdate:modelValue":s[1]||(s[1]=m=>f.city_id=m),startText:"Tanlang?",class:"mb-1"},null,8,["categories","subCategories","loading","modelValue"])]),_:1},8,["loading"])]),_:1},8,["modelValue"])],64)}}}),G={class:"d-flex align-center py-4 px-2 bg-grey-lighten-4"},O={class:"font-weight-bold text-h6 leading-none mt-2"},J={class:"text-caption text-blue-grey-lighten-1"},K={class:"pa-2"},R={class:"pa-2"},W={class:"mb-2 text-right"},X=l("a",{href:"tel:+99893 660 09 60",class:"d-block text-decoration-none text-caption text-primary"},"+99893 660 09 60",-1),Z=l("a",{href:"tel:+99893 660 09 60",class:"d-block text-decoration-none text-caption text-primary"},"+99894 677 11 34",-1),tt=x({__name:"TheLeftNavigator",setup(b){const{name:_}=F(),o=T(),i=M(),r=j("deferredPrompt");function a(){const d=T();d.dialog.open(()=>{d.dialog.title="Dasturdan chiqmoqchimisiz ?",d.dialog.submit=()=>i.logout()})}function f(){r&&(r.value.prompt(),r.value.userChoice.then(d=>{d.outcome==="accepted"?console.log("user accepted A2HS prompt"):console.log("user dismissed A2HS prompt"),r.value=null}))}return(d,h)=>{const k=n("v-icon"),u=n("v-divider"),s=n("v-btn"),y=n("v-list-item"),w=n("v-list"),$=n("v-label"),V=n("v-navigation-drawer");return v(),g(V,{temporary:c(_)=="sm",modelValue:c(o).menu,"onUpdate:modelValue":h[0]||(h[0]=m=>c(o).menu=m)},{append:e(()=>[l("div",R,[l("div",W,[t($,{class:"text-caption mr-1"},{default:e(()=>[p(" Savol va takliflar uchun ")]),_:1}),X,Z]),t(s,{onClick:a,block:"","append-icon":"mdi-logout"},{default:e(()=>[p(" Chiqish ")]),_:1})])]),default:e(()=>{var m,z;return[l("main",G,[t(k,{color:"primary",size:"40"},{default:e(()=>[p("mdi-vuetify")]),_:1}),l("aside",null,[l("div",O,B((m=c(i).user)==null?void 0:m.name),1),l("div",J,B((z=c(i).user)==null?void 0:z.phone),1)])]),t(u),l("div",null,[l("div",K,[c(r)?(v(),g(s,{key:0,onClick:f,block:"","append-icon":"mdi-download",variant:"tonal",class:"mb-2"},{default:e(()=>[p(" Ilovani o'rnatish ")]),_:1})):S("",!0),c(r)?(v(),g(u,{key:1,class:"mb-2"})):S("",!0),t(E),t(w,{density:"compact"},{default:e(()=>[t(y,{title:"Transportlarim","prepend-icon":"mdi-car-settings",to:{name:"user-transports"},class:"mb-2"})]),_:1})])])]}),_:1},8,["temporary","modelValue"])}}}),et=x({__name:"TheAppBar",setup(b){const _=T();return(o,i)=>{const r=n("v-app-bar-nav-icon"),a=n("v-app-bar");return v(),g(a,{density:"comfortable",elevation:0,border:1,color:"primary"},{prepend:e(()=>[t(r,{color:"white",onClick:i[0]||(i[0]=f=>c(_).menu=!c(_).menu)})]),_:1})}}}),ot=x({__name:"TheHeader",setup(b){return(_,o)=>(v(),H("header",null,[t(tt),t(et)]))}}),nt={},at=l("span",{style:{width:"88px"},class:"tw-leading-none"},"Mening elonlarim",-1),it=l("span",{style:{width:"88px"},class:"tw-leading-none"},"Haydovchilar",-1),st=l("span",{style:{width:"88px"},class:"tw-leading-none"},"Yo'lovchilar",-1);function lt(b,_){const o=n("v-icon"),i=n("v-btn"),r=n("v-bottom-navigation");return v(),g(r,{color:"primary",class:"text-center"},{default:e(()=>[t(i,{to:{name:"auth-user"}},{default:e(()=>[t(o,null,{default:e(()=>[p("mdi-account")]),_:1}),at]),_:1}),t(i,{to:{name:"car-rides"}},{default:e(()=>[t(o,null,{default:e(()=>[p("mdi-taxi")]),_:1}),it]),_:1}),t(i,{to:{name:"passengers"}},{default:e(()=>[t(o,null,{default:e(()=>[p("mdi-human-greeting")]),_:1}),st]),_:1})]),_:1})}const ct=P(nt,[["render",lt]]),rt={class:"px-5 py-3 text-center elevation-1 position-relative"},dt={class:"mb-1"},_t={class:"text-pink"},ut=x({__name:"TheAlert",setup(b){const _=q(null),o=T();function i(){o.dialog.cancel()}function r(){o.dialog.submitInner()}function a(){setTimeout(()=>_.value.$el.focus())}return(f,d)=>{const h=n("v-icon"),k=n("v-card-text"),u=n("v-spacer"),s=n("v-btn"),y=n("v-card-actions"),w=n("v-card"),$=n("v-form"),V=n("v-dialog");return v(),g(V,{width:"400",modelValue:c(o).dialog.model,"onUpdate:modelValue":d[2]||(d[2]=m=>c(o).dialog.model=m)},{default:e(()=>[t($,{onSubmit:d[1]||(d[1]=I(m=>i(),["prevent"])),onVnodeMounted:a,onVnodeUnmounted:c(o).dialog.reset},{default:e(()=>[t(w,null,{default:e(()=>[l("main",rt,[l("div",dt,[t(h,{color:"primary",size:"40"},{default:e(()=>[p(B(c(o).dialog.icon),1)]),_:1})]),l("span",_t,B(c(o).dialog.title),1)]),t(k,{class:"bg-grey-lighten-4"},{default:e(()=>[p(B(c(o).dialog.subTitle),1)]),_:1}),t(y,{class:"bg-grey-lighten-4"},{default:e(()=>[t(u),t(s,{text:"Yoq",ref_key:"btnCalcel",ref:_,color:"primary",variant:"tonal",type:"submit",class:"",onClick:d[0]||(d[0]=m=>c(o).dialog.model=!1)},null,512),t(s,{text:"Ha",type:"button",color:"gray",variant:"tonal",onClick:r})]),_:1})]),_:1})]),_:1},8,["onVnodeUnmounted"])]),_:1},8,["modelValue"])}}}),pt=x({__name:"General",setup(b){return(_,o)=>{const i=n("router-view"),r=n("v-main"),a=n("v-app");return v(),g(a,{class:"bg-grey-lighten-4"},{default:e(()=>[t(ut),t(r,null,{default:e(()=>[t(ot),t(i,{class:"h-100 position-relative"})]),_:1}),t(ct)]),_:1})}}});export{pt as default};
