import{d as v,r as o,o as m,j as p,e as d,f as t,w as s,g as _,t as u,i as w,c as k,h as f,m as x,k as N,p as R}from"./app-f25a100e.js";import"./CarRide-c91fac1d.js";import{_ as $,a as D}from"./Edit.vue_vue_type_script_setup_true_lang-541b53bb.js";import"./constants-68fdd4d6.js";const A={class:"tw-leading-3 d-flex align-center"},B={class:""},V={key:0,class:"ml-4"},b=v({__name:"CityRenderer",props:["params"],setup(e){return(r,n)=>{const l=o("v-label"),i=o("v-tooltip"),c=o("v-icon"),a=o("v-btn");return m(),p("div",A,[d("main",null,[t(l,{class:"text-caption"},{default:s(()=>[_(u(e.params.value.region.name),1)]),_:1}),d("p",B,u(e.params.value.name),1)]),e.params.data.address_to_address&&e.params.end?(m(),p("main",V,[t(a,{density:"compact",variant:"text",icon:""},{default:s(()=>[t(i,{activator:"parent",location:"bottom"},{default:s(()=>[_(" Manzilgacha ")]),_:1}),t(c,null,{default:s(()=>[_("mdi-map-marker")]),_:1})]),_:1})])):w("",!0)])}}}),I=v({__name:"IconRenderer",props:["params"],setup(e){const{params:r}=e,n=r.color==null?"primary":r.color,l=r.variant==null?"flat":r.variant;return(i,c)=>{const a=o("v-btn");return m(),k(a,{color:f(n),icon:e.params.icon,variant:f(l),size:"x-small"},null,8,["color","icon","variant"])}}}),M={key:0,class:"tw-leading-none d-flex align-center"},S={class:"mt-1"},j={key:0,class:"ml-4"},z=v({__name:"TimeRenderer",props:["params"],setup(e){return(r,n)=>{const l=o("v-tooltip"),i=o("v-icon"),c=o("v-btn");return e.params.value?(m(),p("div",M,[d("main",null,[d("p",null,u(f(x)(e.params.value).format("MMMM DD")),1),d("p",S,u(f(x)(e.params.value).format("HH:mm")),1)]),e.params.data.strictly_on_time?(m(),p("main",j,[t(c,{density:"compact",variant:"text",icon:""},{default:s(()=>[t(l,{activator:"parent",location:"bottom"},{default:s(()=>[_(" Qat'iy shu vaqtda ")]),_:1}),t(i,null,{default:s(()=>[_("mdi-book-clock")]),_:1})]),_:1})])):w("",!0)])):w("",!0)}}}),F={class:"d-flex tw-flex-col"},H={class:"d-flex align-center justify-space-between mb-2 px-1"},Q=v({__name:"Passengers",setup(e){const r=N(),n=R({passengers:null,gridApi:null,rowClass:["tw-max-h-14","bg-white","tw-shadow"]}),l=[{field:"start",headerName:"Shahar | A ",cellRenderer:b,valueFormatter:null},{field:"end",headerName:"Shahar | B",cellRenderer:b,valueFormatter:null,cellRendererParams:{end:!0}},{field:"ride_time",headerName:"Qatnov vaqti",cellRenderer:z,valueFormatter:null,width:150},{field:"name",headerName:"F.I.SH",flex:1,minWidth:150},{field:"phone",headerName:"Raqami",width:150},{field:"with_trunk",headerName:"Bagaj bilan",width:150},{cellClass:["d-flex","justify-center","align-center","px-2","hover:tw-bg-gray-100"],headerName:"",width:60,cellRenderer:I,cellRendererParams:{icon:"mdi-pencil-outline"},headerClass:["px-2"],onCellClicked:({data:a})=>{r.value.toggle(a)}}];function i(a){n.gridApi.applyTransaction({add:[a],addIndex:0})}function c(a){n.gridApi.getRowNode(a.id).setData(a)}return axios.get("passenger").then(({data:a})=>n.passengers=a),(a,h)=>{const y=o("AgGridVue"),C=o("v-spacer");return m(),p("main",F,[t($,{onUpdate:c,ref_key:"editComponent",ref:r},null,512),d("main",H,[t(D,{onCreate:i})]),t(C,null,{default:s(()=>[t(y,{class:"ag-theme-ruzzifer ag-theme-alpine h-100",rowHeight:58,rowClass:n.rowClass,columnDefs:l,rowData:n.passengers,rowSelection:"multiple",onGridReady:h[0]||(h[0]=g=>n.gridApi=g.api),getRowId:({data:g})=>g.id},null,8,["rowClass","rowData","getRowId"])]),_:1})])}}});export{Q as default};
