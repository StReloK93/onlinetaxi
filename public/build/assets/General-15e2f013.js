import{d as h,u as S,a as T,r as A,c as H,b as M,o as L,e as C,f as n,g as p,h as q,i as d,j as f,w as e,k as v,l as t,m as c,n as z,_ as N,F as U,p as D,q as F,s as j,t as B,v as P}from"./app-7d808b0a.js";const I={class:"text-right w-100 mt-2"},Q={class:"mb-3"},Y=h({__name:"BaseSelectPosition",setup(x){const _=S(),a=T(),i=A(!1),l=H(()=>{var u,s;return(u=a.city)!=null&&u.name?(s=a.city)==null?void 0:s.name:"Qayerdasiz?"}),o=M({notification:!0,overlay:!1,loading:!0,regions:[],districts:[],clearButtonLoading:!1}),g=M({city_id:null,token:_.token});async function r(){o.overlay=!0,g.city_id=null;const{data:u}=await C.get("region");o.regions=u;const{data:s}=await C.get("district");if(o.districts=s,a.city==null)return o.overlay=!1;g.city_id=a.city.id,o.overlay=!1}async function k(){o.clearButtonLoading=!0,await C.post("firebase/set-city-topic",{city_id:null,token:_.token}),a.city=null,o.clearButtonLoading=!1,i.value=!1}async function w(){const{data:u}=await C.post("firebase/set-city-topic",g);a.city=u}return L(async()=>{C.post("firebase/get-city-topic",{token:_.token}).then(({data:u})=>{a.city=u,o.loading=!1}).catch(()=>{console.clear(),o.notification=!1,o.loading=!1})}),(u,s)=>{const b=n("v-btn"),$=n("v-icon"),V=n("BaseForm"),y=n("v-bottom-sheet");return p(),q(U,null,[d("div",I,[o.notification?(p(),f(b,{key:0,variant:"tonal",onClick:s[0]||(s[0]=m=>i.value=!0),text:l.value,"append-icon":"mdi-map-marker",loading:o.loading,block:""},null,8,["text","loading"])):(p(),f(b,{key:1,disabled:"",color:"white",block:""},{default:e(()=>[v("Habarnoma o'chirilgan")]),_:1}))]),t(y,{modelValue:i.value,"onUpdate:modelValue":s[3]||(s[3]=m=>i.value=m),inset:""},{default:e(()=>[t(V,{loading:o.overlay,submit:w,title:"Manzilni o'zgartirish",onClose:s[2]||(s[2]=m=>i.value=!1),onVnodeMounted:r},{action:e(()=>[c(a).city?(p(),f(b,{key:0,color:"primary",loading:o.clearButtonLoading,"append-icon":"mdi-close",variant:"text",onClick:k},{default:e(()=>[v(" O'chirish ")]),_:1},8,["loading"])):z("",!0)]),default:e(()=>[d("p",Q,[t($,{color:"primary"},{default:e(()=>[v("mdi-bell-outline")]),_:1}),v(" Quyida ko'rsatgan manzilingizga qarab yo'lovchilar haqida sizga habarnoma junatamiz. ")]),t(N,{categories:o.regions,subCategories:o.districts,loading:o.loading,modelValue:g.city_id,"onUpdate:modelValue":s[1]||(s[1]=m=>g.city_id=m),startText:"Tanlang?",class:"mb-1"},null,8,["categories","subCategories","loading","modelValue"])]),_:1},8,["loading"])]),_:1},8,["modelValue"])],64)}}}),E={class:"d-flex align-center py-4 px-2 bg-grey-lighten-4"},G={class:"font-weight-bold text-h6 leading-none mt-2"},O={class:"text-caption text-blue-grey-lighten-1"},R={class:"pa-2"},J={class:"pa-2"},K=h({__name:"TheLeftNavigator",setup(x){const{name:_}=D(),a=T(),i=S();F(),A(!1);const l=j("deferredPrompt");function o(){const r=T();r.dialog.open(()=>{r.dialog.title="Dasturdan chiqmoqchimisiz ?",r.dialog.submit=()=>i.logout()})}function g(){l&&(l.value.prompt(),l.value.userChoice.then(r=>{r.outcome==="accepted"?console.log("user accepted A2HS prompt"):console.log("user dismissed A2HS prompt"),l.value=null}))}return(r,k)=>{const w=n("v-icon"),u=n("v-divider"),s=n("v-btn"),b=n("v-list-item"),$=n("v-list"),V=n("v-navigation-drawer");return p(),f(V,{temporary:c(_)=="sm",modelValue:c(a).menu,"onUpdate:modelValue":k[0]||(k[0]=y=>c(a).menu=y)},{append:e(()=>[d("div",J,[t(s,{onClick:o,block:"","append-icon":"mdi-logout"},{default:e(()=>[v(" Chiqish ")]),_:1})])]),default:e(()=>{var y,m;return[d("main",E,[t(w,{color:"primary",size:"40"},{default:e(()=>[v("mdi-vuetify")]),_:1}),d("aside",null,[d("div",G,B((y=c(i).user)==null?void 0:y.name),1),d("div",O,B((m=c(i).user)==null?void 0:m.phone),1)])]),t(u),d("div",null,[d("div",R,[c(l)?(p(),f(s,{key:0,onClick:g,block:"","append-icon":"mdi-download",variant:"tonal",class:"mb-2"},{default:e(()=>[v(" Ilovani o'rnatish ")]),_:1})):z("",!0),c(l)?(p(),f(u,{key:1})):z("",!0),t(Y),t($,{density:"compact"},{default:e(()=>[t(b,{title:"Transportlarim","prepend-icon":"mdi-car-settings",to:{name:"user-transports"},class:"mb-2"})]),_:1})])])]}),_:1},8,["temporary","modelValue"])}}}),W=h({__name:"TheAppBar",setup(x){const _=T();return(a,i)=>{const l=n("v-app-bar-nav-icon"),o=n("v-app-bar");return p(),f(o,{density:"comfortable",elevation:0,border:1,color:"primary"},{prepend:e(()=>[t(l,{color:"white",onClick:i[0]||(i[0]=g=>c(_).menu=!c(_).menu)})]),_:1})}}}),X=h({__name:"TheHeader",setup(x){return(_,a)=>(p(),q("header",null,[t(K),t(W)]))}}),Z=d("span",{style:{width:"88px"},class:"tw-leading-none"},"Mening elonlarim",-1),tt=d("span",{style:{width:"88px"},class:"tw-leading-none"},"Haydovchilar",-1),et=d("span",{style:{width:"88px"},class:"tw-leading-none"},"Yo'lovchilar",-1),ot=h({__name:"TheBottomNavigation",setup(x){return S(),(_,a)=>{const i=n("v-icon"),l=n("v-btn"),o=n("v-bottom-navigation");return p(),f(o,{color:"primary",class:"text-center"},{default:e(()=>[t(l,{to:{name:"car-rides-auth-user"}},{default:e(()=>[t(i,null,{default:e(()=>[v("mdi-timeline-clock-outline")]),_:1}),Z]),_:1}),t(l,{to:{name:"car-rides"}},{default:e(()=>[t(i,null,{default:e(()=>[v("mdi-taxi")]),_:1}),tt]),_:1}),t(l,{to:{name:"passengers"}},{default:e(()=>[t(i,null,{default:e(()=>[v("mdi-human-greeting")]),_:1}),et]),_:1})]),_:1})}}}),nt={class:"px-5 py-3 text-center elevation-1 position-relative"},at={class:"mb-1"},it={class:"text-pink"},st=h({__name:"TheAlert",setup(x){const _=A(null),a=T();function i(){a.dialog.cancel()}function l(){a.dialog.submitInner()}function o(){setTimeout(()=>_.value.$el.focus())}return(g,r)=>{const k=n("v-icon"),w=n("v-card-text"),u=n("v-spacer"),s=n("v-btn"),b=n("v-card-actions"),$=n("v-card"),V=n("v-form"),y=n("v-dialog");return p(),f(y,{width:"400",modelValue:c(a).dialog.model,"onUpdate:modelValue":r[2]||(r[2]=m=>c(a).dialog.model=m)},{default:e(()=>[t(V,{onSubmit:r[1]||(r[1]=P(m=>i(),["prevent"])),onVnodeMounted:o,onVnodeUnmounted:c(a).dialog.reset},{default:e(()=>[t($,null,{default:e(()=>[d("main",nt,[d("div",at,[t(k,{color:"primary",size:"40"},{default:e(()=>[v(B(c(a).dialog.icon),1)]),_:1})]),d("span",it,B(c(a).dialog.title),1)]),t(w,{class:"bg-grey-lighten-4"},{default:e(()=>[v(B(c(a).dialog.subTitle),1)]),_:1}),t(b,{class:"bg-grey-lighten-4"},{default:e(()=>[t(u),t(s,{text:"Yoq",ref_key:"btnCalcel",ref:_,color:"primary",variant:"tonal",type:"submit",class:"",onClick:r[0]||(r[0]=m=>c(a).dialog.model=!1)},null,512),t(s,{text:"Ha",type:"button",color:"gray",variant:"tonal",onClick:l})]),_:1})]),_:1})]),_:1},8,["onVnodeUnmounted"])]),_:1},8,["modelValue"])}}}),ct=h({__name:"General",setup(x){return(_,a)=>{const i=n("router-view"),l=n("v-container"),o=n("v-main"),g=n("v-app");return p(),f(g,{class:"bg-grey-lighten-4"},{default:e(()=>[t(st),t(o,null,{default:e(()=>[t(X),t(l,{class:"h-100 pb-3"},{default:e(()=>[t(i,{class:"h-100 position-relative mx-n2"})]),_:1})]),_:1}),t(ot)]),_:1})}}});export{ct as default};
